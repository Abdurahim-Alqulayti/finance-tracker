<!--&lt;!&ndash; app/pages/transactions.page.html&ndash;&gt;-->

<!--<ion-header [translucent]="true">-->
<!--  <ion-toolbar color="primary">-->
<!--    <ion-buttons slot="start">-->
<!--      <ion-back-button defaultHref="/dashboard"></ion-back-button>-->
<!--    </ion-buttons>-->
<!--    <ion-title>Transactions</ion-title>-->
<!--  </ion-toolbar>-->

<!--  &lt;!&ndash; Filter Toolbar &ndash;&gt;-->
<!--  <ion-toolbar>-->
<!--    <ion-segment [(ngModel)]="filterType" (ionChange)="onFilterChange()">-->
<!--      <ion-segment-button value="all">-->
<!--        <ion-label>All</ion-label>-->
<!--      </ion-segment-button>-->
<!--      <ion-segment-button value="income">-->
<!--        <ion-label>Income</ion-label>-->
<!--      </ion-segment-button>-->
<!--      <ion-segment-button value="expense">-->
<!--        <ion-label>Expense</ion-label>-->
<!--      </ion-segment-button>-->
<!--    </ion-segment>-->
<!--  </ion-toolbar>-->
<!--</ion-header>-->

<!--<ion-content [fullscreen]="true">-->
<!--  &lt;!&ndash; Transaction List &ndash;&gt;-->
<!--  <ion-list *ngIf="filteredTransactions.length > 0; else noTransactions">-->
<!--    <ion-item-sliding *ngFor="let transaction of filteredTransactions">-->
<!--      <ion-item>-->
<!--        <ion-icon-->
<!--          [name]="transaction.type === 'income' ? 'arrow-down-circle' : 'arrow-up-circle'"-->
<!--          [color]="transaction.type === 'income' ? 'success' : 'danger'"-->
<!--          slot="start">-->
<!--        </ion-icon>-->

<!--        <ion-label>-->
<!--          <h2>{{ transaction.category }}</h2>-->
<!--          <p>{{ transaction.description || 'No description' }}</p>-->
<!--          <p class="date">{{ formatDate(transaction.date) }}</p>-->
<!--        </ion-label>-->

<!--        <ion-note slot="end" [color]="transaction.type === 'income' ? 'success' : 'danger'">-->
<!--          <strong>{{ transaction.type === 'income' ? '+' : '-' }}${{ transaction.amount | number:'1.2-2' }}</strong>-->
<!--        </ion-note>-->
<!--      </ion-item>-->

<!--      &lt;!&ndash; Swipe to delete &ndash;&gt;-->
<!--      <ion-item-options side="end">-->
<!--        <ion-item-option color="danger" (click)="deleteTransaction(transaction)">-->
<!--          <ion-icon slot="icon-only" name="trash"></ion-icon>-->
<!--        </ion-item-option>-->
<!--      </ion-item-options>-->
<!--    </ion-item-sliding>-->
<!--  </ion-list>-->

<!--  &lt;!&ndash; Empty State &ndash;&gt;-->
<!--  <ng-template #noTransactions>-->
<!--    <div class="empty-state">-->
<!--      <ion-icon name="wallet-outline"></ion-icon>-->
<!--      <h2>No Transactions</h2>-->
<!--      <p>Start tracking your finances by adding your first transaction</p>-->
<!--      <ion-button (click)="navigateToAddTransaction()">-->
<!--        <ion-icon name="add" slot="start"></ion-icon>-->
<!--        Add Transaction-->
<!--      </ion-button>-->
<!--    </div>-->
<!--  </ng-template>-->

<!--  &lt;!&ndash; Floating Action Button &ndash;&gt;-->
<!--  <ion-fab vertical="bottom" horizontal="end" slot="fixed">-->
<!--    <ion-fab-button (click)="navigateToAddTransaction()">-->
<!--      <span class="fab-plus">-->
<!--         <span class="fab-plus">+</span>-->
<!--      </span>-->
<!--    </ion-fab-button>-->
<!--  </ion-fab>-->
<!--</ion-content>-->

<!-- app/pages/transactions.page.html-->

<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title>Transactions</ion-title>
  </ion-toolbar>

  <!-- Filter Toolbar -->
  <ion-toolbar>
    <ion-segment [(ngModel)]="filterType" (ionChange)="onFilterChange()">
      <ion-segment-button value="all">
        <ion-label>All</ion-label>
      </ion-segment-button>
      <ion-segment-button value="income">
        <ion-label>Income</ion-label>
      </ion-segment-button>
      <ion-segment-button value="expense">
        <ion-label>Expense</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Transaction List -->
  <ion-list *ngIf="filteredTransactions.length > 0; else noTransactions">
    <ion-item-sliding *ngFor="let transaction of filteredTransactions">
      <ion-item button
                (click)="navigateToTransactionDetails(transaction.id)"
                class="transaction-item">
        <ion-icon
          [name]="transaction.type === 'income' ? 'arrow-down-circle' : 'arrow-up-circle'"
          [color]="transaction.type === 'income' ? 'success' : 'danger'"
          slot="start">
        </ion-icon>

        <ion-label>
          <h2>{{ transaction.category }}</h2>
          <p>{{ transaction.description || 'No description' }}</p>
          <p class="date">{{ formatDate(transaction.date) }}</p>
        </ion-label>

        <ion-note slot="end" [color]="transaction.type === 'income' ? 'success' : 'danger'">
          <strong>{{ transaction.type === 'income' ? '+' : '-' }}${{ transaction.amount | number:'1.2-2' }}</strong>
        </ion-note>
      </ion-item>

      <!-- Swipe to delete -->
      <ion-item-options side="end">
        <ion-item-option color="danger" (click)="deleteTransaction(transaction)">
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <!-- Empty State -->
  <ng-template #noTransactions>
    <div class="empty-state">
      <ion-icon name="wallet-outline"></ion-icon>
      <h2>No Transactions</h2>
      <p>Start tracking your finances by adding your first transaction</p>
      <ion-button (click)="navigateToAddTransaction()">
        <ion-icon name="add" slot="start"></ion-icon>
        Add Transaction
      </ion-button>
    </div>
  </ng-template>

  <!-- Floating Action Button -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="primary" (click)="navigateToAddTransaction()">
      <span class="fab-plus">+</span>
    </ion-fab-button>
  </ion-fab>
</ion-content>
